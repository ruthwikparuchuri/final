{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Disaster Prediction</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:slnt,wght@-10..0,100..900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'user/lib/animate/animate.min.css' %}" />
    <link rel="stylesheet" href="{% static 'user/lib/lightbox/css/lightbox.min.css' %}">
    <link rel="stylesheet" href="{% static 'user/lib/owlcarousel/assets/owl.carousel.min.css' %}">

    <link rel="stylesheet" href="{% static 'user/css/bootstrap.min.css' %}">

    <link rel="stylesheet" href="{% static 'user/css/style.css' %}">

    <style>
        .custom-container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>

    <style>
        .weather-container {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        .weather-container h3 {
            color: #4CAF50;
        }

        .weather-container p {
            font-size: 16px;
            margin: 5px 0;
        }

        .weather-container strong {
            color: #333;
        }
    </style>

</head>

<body>

    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

    <div class="container-fluid topbar px-0 px-lg-4 bg-light py-2 d-none d-lg-block">
        <div class="container">
            <div class="row gx-0 align-items-center">
                <div class="col-lg-8 text-center text-lg-start mb-lg-0">
                    <div class="d-flex flex-wrap">
                        <div class="border-end border-primary pe-3">
                            <a href="#" class="text-muted small"><i
                                    class="fas fa-map-marker-alt text-primary me-2"></i>Namburu</a>
                        </div>
                        <div class="ps-3">
                            <a href="mailto:example@gmail.com" class="text-muted small"><i
                                    class="fas fa-envelope text-primary me-2"></i>paruchuriruthwik27@gmail.com</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 text-center text-lg-end">
                    <div class="d-flex justify-content-end">
                        <div class="d-flex border-end border-primary pe-3">
                            <a class="btn p-0 text-primary me-3" href="#"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn p-0 text-primary me-3" href="#"><i class="fab fa-twitter"></i></a>
                            <a class="btn p-0 text-primary me-3" href="#"><i class="fab fa-instagram"></i></a>
                            <a class="btn p-0 text-primary me-0" href="#"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <div class="dropdown ms-3">
                            <a href="#" class="dropdown-toggle text-dark" data-bs-toggle="dropdown"><small><i
                                        class="fas fa-globe-europe text-primary me-2"></i> English</small></a>
                            <div class="dropdown-menu rounded">
                                <a href="#" class="dropdown-item">English</a>
                                <a href="#" class="dropdown-item">Bangla</a>
                                <a href="#" class="dropdown-item">French</a>
                                <a href="#" class="dropdown-item">Spanish</a>
                                <a href="#" class="dropdown-item">Arabic</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid nav-bar px-0 px-lg-4 py-lg-0">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a href="#" class="navbar-brand p-0">
                    <h1 class="text-primary mb-0"><i class="fas fa-exclamation-triangle me-2"></i> Disaster Prediction
                    </h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="fa fa-bars"></span>
                </button>
                <div class="collapse  navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav  mx-0 mx-lg-auto ">
                        <a href="{% url 'user_dashboard' %}" class="nav-item nav-link">Dashboard</a>
                        <!-- <a href="{% url 'view_and_pay' %}" class="nav-item nav-link">View and Pay Fines</a> -->
                      
                        <a href="{% url 'user_profile' %}" class="nav-item nav-link ">My Profile</a>
                        <div class="nav-item dropdown active">
                            <a href="#" class="nav-link dropdown-toggle active"
                                data-bs-toggle="dropdown">Predictions</a>
                            <div class="dropdown-menu">
                                <a href="{% url 'weather' %}" class="dropdown-item">Weather</a>
                                <a href="{% url 'earthquake' %}" class="dropdown-item">Earth</a>
                                <a href="{% url 'flood_prediction' %}" class="dropdown-item">Floods</a>
                                <a href="{% url 'Sunami' %}" class="dropdown-item">Tsunami</a>
                                <a href="{% url 'chatbot' %}" class="dropdown-item">Chatbot</a>

                            </div>
                        </div>
                        <a href="{% url 'satiable_requests' %}" class="nav-item nav-link ">Suitable Requests</a>
                        <a href="{% url 'feedback' %}" class="nav-item nav-link ">Feedback</a>


                    </div>
                    <div class="d-flex justify-content-end">
                        <a href="{% url 'user_logout' %}"
                            class="btn btn-danger rounded-pill py-2 px-4 ms-3 flex-shrink-0">Logout</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content rounded-0">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Search by keyword</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex align-items-center bg-primary">
                    <div class="input-group w-75 mx-auto d-flex">
                        <input type="search" class="form-control p-3" placeholder="keywords"
                            aria-describedby="search-icon-1">
                        <span id="search-icon-1" class="btn bg-light border nput-group-text p-3"><i
                                class="fa fa-search"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container py-5">
        <!-- Weather Prediction Section -->
        {% if not weather_data %}
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="text-center text-success mb-4">Weather Prediction</h2>
                        <!-- Weather Form -->
                        <form method="POST" class="needs-validation" novalidate>
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="location" class="form-label">Enter Location (City Name):</label>
                                <input type="text" id="location" name="location" class="form-control" placeholder="e.g., New York" required>
                                <div class="invalid-feedback">
                                    Please enter a city name.
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="date" class="form-label">Select Date:</label>
                                <input type="date" id="date" name="date" class="form-control" required>
                                <div class="invalid-feedback">
                                    Please select a date.
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="hour" class="form-label">Select Hour:</label>
                                <select id="hour" name="hour" class="form-control" required>
                                    <option value="" disabled selected>Select Hour</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please select an hour.
                                </div>
                            </div>
                            
                            <script>
                                // Define the hours you want to display to the user
                                const availableHours = [
                                    '06:00',
                                    '09:00',
                                    '12:00',
                                    '15:00',
                                    '18:00',
                                    '21:00'
                                ];
                            
                                // Populate the select dropdown with the available hours
                                const hourSelect = document.getElementById('hour');
                                availableHours.forEach(hour => {
                                    const option = document.createElement('option');
                                    option.value = hour;
                                    option.textContent = hour;
                                    hourSelect.appendChild(option);
                                });
                            </script>
                            
                            <p style="font-size: 11px; font-weight: bold; color: red;" class="text-center">Forecast is for the next five days only from today.</p>
                            <button type="submit" class="btn btn-primary w-100" style="border-radius: 30px;">Get Weather Forecast</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    
        <!-- Error Message Display -->
        {% if error_message %}
        <div class="alert alert-danger">
            {{ error_message }}
        </div>
        {% endif %}
    
        <!-- Weather Information Display -->
        {% if weather_data %}
        <div class="row justify-content-center mt-5">
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h3 class="text-center mb-4">Weather Forecast for {{ weather_data.city_name }} on {{ weather_data.date }} at {{ weather_data.time }}:</h3>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <p><strong>Temperature:</strong> {{ weather_data.temperature_celsius }}°C / {{ weather_data.temperature_fahrenheit }}°F</p>
                                <p><strong>Weather:</strong> {{ weather_data.weather_description }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p><strong>Humidity:</strong> {{ weather_data.humidity }}%</p>
                                <p><strong>Wind Speed:</strong> {{ weather_data.wind_speed }} m/s</p>
                                <p><strong>Visibility:</strong> {{ weather_data.visibility }} meters</p>
                               
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
    
    <script>
        // Bootstrap 5 Form Validation
        (function () {
            'use strict'
            var forms = document.querySelectorAll('.needs-validation')
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
    



    <div class="container-fluid footer py-5 wow fadeIn" data-wow-delay="0.2s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-xl-9">
                    <div class="mb-5">
                        <div class="row g-4">
                            <div class="col-md-6 col-lg-6 col-xl-6">
                                <div class="footer-item">
                                    <a href="{% url 'index' %}" class="p-0">
                                        <h3 class="text-white"><i class="fas fa-exclamation-triangle me-2"></i> Disaster
                                            Prediction</h3>

                                    </a>
                                    <p class="text-white mb-4">Our system is built on reliable and secure technology to
                                        ensure accurate detection and identification.</p>
                                    <div class="footer-btn d-flex">
                                        <a class="btn btn-md-square rounded-circle me-3" href="#"><i
                                                class="fab fa-facebook-f"></i></a>
                                        <a class="btn btn-md-square rounded-circle me-3" href="#"><i
                                                class="fab fa-twitter"></i></a>
                                        <a class="btn btn-md-square rounded-circle me-3" href="#"><i
                                                class="fab fa-instagram"></i></a>
                                        <a class="btn btn-md-square rounded-circle me-0" href="#"><i
                                                class="fab fa-linkedin-in"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-6 col-xl-6">
                                <div class="footer-item">
                                    <h4 class="text-white mb-4">Useful Links</h4>
                                    <a href="#"><i class="fas fa-angle-right me-2"></i> Dashboard</a>
                                    <a href="#"><i class="fas fa-angle-right me-2"></i> Fines</a>
                                    <a href="#"><i class="fas fa-angle-right me-2"></i> My Profile</a>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="pt-5" style="border-top: 1px solid rgba(255, 255, 255, 0.08);">
                        <div class="row g-0">
                            <div class="col-12">
                                <div class="row g-4">
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="d-flex">
                                            <div class="btn-xl-square bg-primary text-white rounded p-4 me-4">
                                                <i class="fas fa-map-marker-alt fa-2x"></i>
                                            </div>
                                            <div>
                                                <h4 class="text-white">Address</h4>
                                                <p class="mb-0">Namburu</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="d-flex">
                                            <div class="btn-xl-square bg-primary text-white rounded p-4 me-4">
                                                <i class="fas fa-envelope fa-2x"></i>
                                            </div>
                                            <div>
                                                <h4 class="text-white">Mail Us</h4>
                                                <p class="mb-0">paruchuriruthwik27@gmail.com</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="d-flex">
                                            <div class="btn-xl-square bg-primary text-white rounded p-4 me-4">
                                                <i class="fa fa-phone-alt fa-2x"></i>
                                            </div>
                                            <div>
                                                <h4 class="text-white">Telephone</h4>
                                                <p class="mb-0">95733 34457</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3">
                    <div class="footer-item">
                        <h4 class="text-white mb-4">Disaster prediction</h4>
                        <p class="text-white mb-3">Disaster prediction refers to the process of using scientific data,
                            technology, and forecasting models to anticipate and predict natural or man-made disasters
                            before they occur. This prediction aims to reduce the impact of these events by enabling
                            early warnings and preparedness strategies. It involves monitoring various environmental,
                            geological, meteorological, and technological factors that could indicate an impending
                            disaster..</p>
                        <div class="position-relative rounded-pill mb-4">
                            <input class="form-control rounded-pill w-100 py-3 ps-4 pe-5" type="text"
                                placeholder="Enter your email">
                            <button type="button"
                                class="btn btn-primary rounded-pill position-absolute top-0 end-0 py-2 mt-2 me-2">SignUp</button>
                        </div>
                        <div class="d-flex flex-shrink-0">
                            <div class="footer-btn">
                                <a href="#" class="btn btn-lg-square rounded-circle position-relative wow tada"
                                    data-wow-delay=".9s">
                                    <i class="fa fa-phone-alt fa-2x"></i>
                                    <div class="position-absolute" style="top: 2px; right: 12px;">
                                        <span><i class="fa fa-comment-dots text-secondary"></i></span>
                                    </div>
                                </a>
                            </div>
                            <div class="d-flex flex-column ms-3 flex-shrink-0">
                                <span>Call to Our Experts</span>
                                <a href="tel:+ 0123 456 7890"><span class="text-white">95733 34457</span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid copyright py-4">
        <div class="container">
            <div class="row g-4 align-items-center">
                <div class="col-md-6 text-center text-md-end mb-md-0">
                    <span class="text-body"><a href="#" class="border-bottom text-white"><i
                                class="fas fa-copyright text-light me-2"></i>Disaster Prediction</a>, All right
                        reserved.</span>
                </div>
                <div class="col-md-6 text-center text-md-start text-body">

                    Designed By <a class="border-bottom text-white" href="https://codeleaf.in"></a> Distributed By <a
                        class="border-bottom text-white" href="https://codeleaf.in" target="_blank"> team</a>
                </div>
            </div>
        </div>
    </div>

    <a href="#" class="btn btn-primary btn-lg-square rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'user/lib/wow/wow.min.js' %}"></script>
    <script src="{% static 'user/lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'user/lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'user/lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'user/lib/lightbox/js/lightbox.min.js' %}"></script>
    <script src="{% static 'user/lib/owlcarousel/owl.carousel.min.js' %}"></script>

    <script src="{% static 'user/js/main.js' %}"></script>
</body>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

{% if messages %}
{% for message in messages %}
{% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
<script>
    swal({
        title: "Warning!",
        text: "{{ message }}",
        icon: "warning",
        button: "OK",
    });
</script>
{% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
<script>
    swal({
        title: "Info :)",
        text: "{{ message }}",
        icon: "info",
        button: "OK",
    });
</script>
{% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
<script>
    swal({
        title: "Error :)",
        text: "{{ message }}",
        icon: "error",
        button: "OK",
    });
</script>
{% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
<script>
    swal({
        title: "Success :)",
        text: "{{ message }}",
        icon: "success",
        button: "OK",
    });
</script>
{% endif %}
{% endfor %}
{% endif %}

</html>